<mxfile host="app.diagrams.net" modified="2023-05-17T08:19:17.222Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" etag="MnW47HSJ-dNoTk_usuU1" version="21.3.0" type="github" pages="2">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="容器启动">
    <mxGraphModel dx="2021" dy="1825" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-2" value="" style="rounded=0;html=1;jettySize=auto;orthogonalLoop=1;fontSize=11;endArrow=block;endFill=0;endSize=8;strokeWidth=1;shadow=0;labelBackgroundColor=none;edgeStyle=orthogonalEdgeStyle;entryX=0.525;entryY=-0.014;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-3" target="kUYuFY39yQB2_rtt73G5-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="220" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-3" value="start" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="210" y="80" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-3" target="kUYuFY39yQB2_rtt73G5-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-3" value="&lt;pre style=&quot;font-family: &amp;quot;JetBrains Mono&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;从AnnotationConfigApplicationContext的构造方法开始&lt;/font&gt;&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="80" y="190" width="360" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-13" value="AnnotationConfigApplicationContext" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-590" y="180" width="270" height="150" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-14" value="+ " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="kUYuFY39yQB2_rtt73G5-13">
          <mxGeometry y="26" width="270" height="44" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-15" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="kUYuFY39yQB2_rtt73G5-13">
          <mxGeometry y="70" width="270" height="2" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-16" value="+ AnnotationConfigApplicationContext(): void&#xa;+ register(Class&lt;?&gt;): void&#xa;+ refresh():void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="kUYuFY39yQB2_rtt73G5-13">
          <mxGeometry y="72" width="270" height="78" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-18" value="AbstractApplicationContext" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-580" y="-80" width="270" height="150" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-19" value="+ " style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="kUYuFY39yQB2_rtt73G5-18">
          <mxGeometry y="26" width="270" height="44" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-20" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="kUYuFY39yQB2_rtt73G5-18">
          <mxGeometry y="70" width="270" height="2" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-21" value="+ AnnotationConfigApplicationContext(): void&#xa;+ register(Class&lt;?&gt;): void&#xa;+ refresh():void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="kUYuFY39yQB2_rtt73G5-18">
          <mxGeometry y="72" width="270" height="78" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-22" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-13" target="kUYuFY39yQB2_rtt73G5-18">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="-240" y="170" as="sourcePoint" />
            <mxPoint x="-80" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-23" target="kUYuFY39yQB2_rtt73G5-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-23" value="实例化BeanFactory，用于生成Bean对象" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-25" target="kUYuFY39yQB2_rtt73G5-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-25" value="实例化BeanDefinition Reader，用于将特定注解的类转化为BeanDefinition对象" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="110" y="330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-27" target="kUYuFY39yQB2_rtt73G5-29">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="395" y="420" />
              <mxPoint x="-10" y="420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-27" value="实例化ClassPathBeanDefinitionScanner，用于扫描指定的包" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="300" y="330" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-29" target="kUYuFY39yQB2_rtt73G5-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-29" value="将类转化为BeanDefinition" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-31" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-100" y="360" as="sourcePoint" />
            <mxPoint x="-280" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-32" value="this()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-220" y="330" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-34" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-90" y="479.5" as="sourcePoint" />
            <mxPoint x="-270" y="479.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-35" value="register&lt;br&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-220" y="450" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-36" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="660" y="570" as="sourcePoint" />
            <mxPoint x="-280" y="575" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-37" value="refresh()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-225" y="550" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-38" target="kUYuFY39yQB2_rtt73G5-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-38" value="初始化属性设置，属性合法性校验" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-40" target="kUYuFY39yQB2_rtt73G5-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-40" value="刷新BeanFactory，设置序列化ID，获取BeanFactory" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-41" target="kUYuFY39yQB2_rtt73G5-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-41" value="设置BeanFactory的类加载器，表达式解析器等" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="830" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-42" target="kUYuFY39yQB2_rtt73G5-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-42" value="设置可以自动装配的接口类型，和忽略装配的接口类型" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="110" y="830" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-43" target="kUYuFY39yQB2_rtt73G5-49">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="435" y="910" />
              <mxPoint x="-10" y="910" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-43" value="注册ApplicationContextAwareProcessor，&lt;br&gt;注册ApplicationListenerDetector" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="310" y="830" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-44" value="prepareRefresh()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-245" y="610" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-45" value="obtainFreshBeanFactory()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-280" y="725" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-46" value="prepareBeanFactory(BeanFactoty)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-305" y="845" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-47" value="postProcessorBeanFactory(beanFactory)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-340" y="950" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-48" value="invokeBeanFactoryProcessor(beanFactory)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-350" y="1070" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.197;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-49" target="kUYuFY39yQB2_rtt73G5-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-49" value="由子类重写" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="935" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-50" target="kUYuFY39yQB2_rtt73G5-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-50" value="执行所有实现了BeanDefinitionRegisterPostProcessor接口的类的后处理方法。" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="1048" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-51" target="kUYuFY39yQB2_rtt73G5-53">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="450" y="1140" />
              <mxPoint x="85" y="1140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-51" value="执行所有实现了BeanFactoryPostProcessor接口的类的后处理方法。" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="300" y="1048" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-52" value="rigisterBeanPostProcessor(beanFactory)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-345" y="1184" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-53" target="kUYuFY39yQB2_rtt73G5-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-53" value="向容器中注册Bean的后置处理器BeanPostProcessor，用于干预Bean的初始化过程" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="1169" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-54" value="initMessageSource()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-260" y="1318" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-55" value="initApplicationEventMuticaster()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-295" y="1428" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-56" value="onRefresh()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-220" y="1540" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-57" value="registerListeners()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-250" y="1678" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-58" value="finishBeanFactoryInitialization(beanFactory)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-380" y="1800" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-59" target="kUYuFY39yQB2_rtt73G5-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-59" value="初始化MessageSource组件，用于做国际化" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="1300" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.785;entryY=0.033;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-60" target="kUYuFY39yQB2_rtt73G5-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-60" value="初始化事件派发器ApplicationEventMuticaster" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="1420" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.313;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-61" target="kUYuFY39yQB2_rtt73G5-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-61" value="留给子类重写" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="1530" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.571;entryY=-0.017;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-62" target="kUYuFY39yQB2_rtt73G5-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-62" value="注册监听器到事件派发器中，并派发事件" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="1663" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.448;entryY=-0.05;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-63" target="kUYuFY39yQB2_rtt73G5-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-63" value="初始化剩下的Bean单例" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="1780" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-64" value="finishRefresh()" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-225" y="1920" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-81" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kUYuFY39yQB2_rtt73G5-65" target="kUYuFY39yQB2_rtt73G5-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-65" value="初始化生命周期后处理器，发布容器刷新完成事件" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-70" y="1900" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kUYuFY39yQB2_rtt73G5-80" value="end" style="whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-10" y="2040" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="8nXCjmnCFBkcP1rOKNip" name="bean加载">
    <mxGraphModel dx="2021" dy="656" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="YZwvV6y8xXZDDhob5H9c-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-1" target="YZwvV6y8xXZDDhob5H9c-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-1" value="start" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="90" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-3" target="YZwvV6y8xXZDDhob5H9c-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-7" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="YZwvV6y8xXZDDhob5H9c-6">
          <mxGeometry x="-0.24" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-3" target="YZwvV6y8xXZDDhob5H9c-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-3" value="首先检查缓存中是否存在这样的Bean单例" style="rhombus;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="330" y="230" width="140" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-4" target="YZwvV6y8xXZDDhob5H9c-15">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="800" y="1350" as="targetPoint" />
            <Array as="points">
              <mxPoint x="800" y="1360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-4" value="从缓存中获取" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="730" y="265" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-8" target="YZwvV6y8xXZDDhob5H9c-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-8" value="将BeanDefinition转化为BeanWrapper" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-9" target="YZwvV6y8xXZDDhob5H9c-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-9" value="Bean合并后的预处理" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="584.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-10" target="YZwvV6y8xXZDDhob5H9c-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-10" value="依赖处理" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-11" target="YZwvV6y8xXZDDhob5H9c-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-11" value="属性填充" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="830" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-12" target="YZwvV6y8xXZDDhob5H9c-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-12" value="初始化Bean" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="950" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-13" target="YZwvV6y8xXZDDhob5H9c-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-13" value="循环依赖检查" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="1070" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-14" target="YZwvV6y8xXZDDhob5H9c-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-14" value="注册disposableBean" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="1200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-15" value="完成并返回" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="1330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-16" value="如果有循环依赖，会提前暴露到earlySingletonObjects中" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="540" y="680" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="YZwvV6y8xXZDDhob5H9c-17" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;entryX=-0.021;entryY=0.375;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-10" target="YZwvV6y8xXZDDhob5H9c-16">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="390" y="780" as="sourcePoint" />
            <mxPoint x="440" y="730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WwvwwiMtcGQ3vUle3iDC-2" value="1、先处理实现了XXAware接口的方法&lt;br&gt;2、执行BeanPostProcessor的前置处理&lt;br&gt;3、实现了InitializingBean或配置了init-method&lt;br&gt;4、执行BeanPostProcessor的后置处理&lt;br&gt;5、注册disposableBean用于销毁时的处理" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="-230" y="900" width="440" height="160" as="geometry" />
        </mxCell>
        <mxCell id="WwvwwiMtcGQ3vUle3iDC-3" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.306;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="YZwvV6y8xXZDDhob5H9c-12" target="WwvwwiMtcGQ3vUle3iDC-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="1010" as="sourcePoint" />
            <mxPoint x="170" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
